---
import IndexLayout from '@/layouts/IndexLayout.astro'
import Button from '@/components/ui/Button.astro'
import BackgroundShader from '@/components/ui/BackgroundShader.astro'
---

<IndexLayout
  title="Way2 ‚Äî Lose Yourself, Not Your Friends"
  description="Find your friends at crowded events ‚Äî no compass or cell service required."
>
  <BackgroundShader />
  
  <main class="landing-page editorial-grid">
    <!-- Hero Section -->
    <div class="grid-cell hero-cell">
      <div class="hero-image-container">
        <picture>
          <source
            media="(max-width: 767px)"
            srcset="/media/embrace-mobile.png"
          />
          <img 
            src="/media/embrace.png" 
            alt="Crowd embrace" 
            class="hero-bg-image"
          />
        </picture>
        <div class="hero-overlay"></div>
      </div>
      
      <div class="hero-logo-container">
        <img 
          src="/brand/way2-logo-light.svg" 
          alt="Way2"
          class="hero-logo"
          width="140"
        />
      </div>

      <div class="hero-content">
        <h1 class="heading-display">
          The Network for Crowd-Scale Events
        </h1>
        <div class="hero-footer">
          <p class="hero-subhead">
            Reliable communication when the network fails.<br />
            <span class="text-highlight">No compass or cell service required.</span>
          </p>
          
          <div class="hero-actions">
            <Button
              href="/partner-up"
              label="For Organizers"
              variant="primary"
              icon="üõ°Ô∏è"
            />
            <Button
              href="/attendees"
              label="For Attendees"
              variant="secondary"
              icon="üëã"
            />
          </div>
        </div>
      </div>
    </div>

    <!-- Sidebar / Sticky Progress -->
    <div class="grid-cell desktop-only glass-panel-dark display-cell">
       <div class="sticky-content">
         <div class="display-group">
            <span class="label-mono">System Status</span>
            <span class="display-value">ONLINE</span>
         </div>
         <div class="display-group">
            <span class="label-mono">Latency</span>
            <span class="display-value">0.02ms</span>
         </div>
         <div class="display-group mt-auto">
            <span class="label-mono">Scroll</span>
            <div class="scroll-line"></div>
         </div>
       </div>
    </div>

    <!-- Organizer Section (01) -->
    <div class="grid-cell content-cell glass-panel main-col">
      <span class="label-mono">(01) ‚Äî For Organizers</span>
      <h2 class="heading-display">Secure the<br />Experience</h2>
      <p class="body-editorial">
        Typical networks fail when they are needed most. Way2 provides a dedicated, resilient mesh network for your event operations and attendee safety.
      </p>
      <ul class="feature-list">
        <li><span class="icon">üõ°Ô∏è</span> Coordinate help in emergencies</li>
        <li><span class="icon">üì∂</span> Venue-wide scalability</li>
        <li><span class="icon">‚ö°</span> 99.999% Uptime</li>
      </ul>
      <div class="action-wrapper">
        <Button
          href="/partner-up"
          label="Partner Up"
          variant="primary"
        />
      </div>
    </div>

    <div class="grid-cell visual-cell main-col">
      <figure class="network-card">
        <img 
          src="/media/network-failure-card.webp" 
          alt="Phone screen showing lost signal"
          loading="lazy"
          width="300"
        />
        <figcaption class="label-mono">Fig 1. Network Failure</figcaption>
      </figure>
    </div>

    <!-- Attendee Section (02) -->
    <div class="grid-cell visual-cell glass-panel-dark mobile-order-2 main-col">
       <div class="phone-cluster">
          <img class="phone-mockup chat-view"
            src="/media/tg-proto-chat.webp"
            alt="Chat view"
            loading="lazy"
          />
          <img class="phone-mockup ar-view"
            src="/media/tg-proto-ar.webp"
            alt="AR view"
            loading="lazy"
          />
       </div>
    </div>

    <div class="grid-cell content-cell glass-panel mobile-order-1 main-col">
      <span class="label-mono">(02) ‚Äî For Attendees</span>
      <h2 class="heading-display">Lose Yourself,<br />Not Your Friends</h2>
      <p class="body-editorial">
        Way2 connects phones directly, creating a living, breathing local network that thrives in dense crowds.
      </p>
      <blockquote class="quote-text">
        "The bigger the crowd, the better it works."
      </blockquote>
      <div class="action-wrapper">
        <Button
          href="/attendees"
          label="Get the App"
          variant="secondary"
        />
      </div>
    </div>

    <!-- Testimonials -->
    <div class="grid-cell full-width glass-panel">
      <span class="label-mono center-text" style="display:block; margin-bottom: 2rem;">(03) ‚Äî Testimonials</span>
      <h2 class="heading-display center-text" style="font-size: var(--font-size-3xl);">Festivals Love It</h2>
      
      <div class="testimonials-flow">
        <div class="testimonial-large">
          <p>"Safety is our biggest concern. Way2 is a game changer."</p>
          <cite>‚Äî Event Organizer</cite>
        </div>
        <div class="testimonial-row">
          <div class="testimonial-small">
            <p>"Dude, I needed this at the gorge last weekend."</p>
            <cite>‚Äî Festival Attendee</cite>
          </div>
          <div class="testimonial-small">
            <p>"Finally, reliable comms without the cell tower overload."</p>
            <cite>‚Äî Production Manager</cite>
          </div>
        </div>
      </div>
    </div>

  </main>
</IndexLayout>

<style>
  .hero-cell {
    grid-column: 1 / -1;
    min-height: 100dvh;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    align-items: flex-start;
    text-align: left;
    border-bottom: 1px solid rgba(255, 255, 255, 0.2);
    position: relative;
    overflow: hidden;
    padding: 80px 0 0 0;
  }

  .hero-image-container {
    position: absolute;
    inset: 0;
    z-index: 0;
    mix-blend-mode: difference;
  }

  .hero-bg-image {
    width: 100%;
    height: 100%;
    object-fit: contain;
    object-position: center;
  }

  .hero-overlay {
    position: absolute;
    inset: 0;
  }

  .hero-logo-container {
    position: absolute;
    top: 80px;
    left: 2rem;
    z-index: 10;
  }

  .hero-content {
    position: relative;
    z-index: 1;
    width: 100%;
    max-width: 100%;
    min-width: 0;
    box-sizing: border-box;
    padding: 2rem 2rem 4rem 2rem;
    display: flex;
    flex-direction: column;
    gap: 2rem;
  }

  .hero-cell .heading-display {
    font-size: clamp(2.5rem, 6vw + 1rem, 7rem);
  }

  @media (min-width: 768px) {
    .hero-content {
      padding: 4rem;
      display: grid;
      grid-template-columns: 1.5fr 1fr;
      align-items: end;
      gap: 4rem;
    }
  }

  .hero-footer {
    display: flex;
    flex-direction: column;
    gap: 2rem;
  }

  .hero-subhead {
    font-size: var(--font-size-l);
    line-height: 1.4;
    color: rgba(255, 255, 255, 0.8);
    font-weight: 350;
  }

  .text-highlight {
    color: var(--colors-teal-95);
    font-weight: 400;
  }

  .hero-actions {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
  }

  /* Sidebar */
  .display-cell {
    display: flex;
    flex-direction: column;
    padding: 2rem;
    border-right: 1px solid var(--border);
  }

  .sticky-content {
    position: sticky;
    top: 2rem;
    height: calc(100vh - 4rem);
    display: flex;
    flex-direction: column;
    gap: 2rem;
  }

  .display-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .display-value {
    font-family: var(--font-pixel);
    font-size: 14px;
    color: var(--colors-teal-95);
    letter-spacing: 0.05em;
  }

  .mt-auto {
    margin-top: auto;
  }

  .scroll-line {
    width: 1px;
    height: 100px;
    background: linear-gradient(to bottom, var(--colors-teal-95), transparent);
  }

  /* Content Sections */
  .content-cell {
    display: flex;
    flex-direction: column;
    justify-content: center;
    gap: 2rem;
    padding: 4rem;
  }

  .feature-list {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .feature-list li {
    display: flex;
    align-items: center;
    gap: 1rem;
    font-size: 1.1rem;
    color: rgba(255, 255, 255, 0.8);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    padding-bottom: 1rem;
  }

  .visual-cell {
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    padding: 4rem;
  }

  .network-card {
    margin: 0;
    text-align: center;
    
    img {
      border-radius: 4px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.3);
      border: 1px solid rgba(255,255,255,0.1);
    }

    figcaption {
      margin-top: 1rem;
      color: var(--colors-red-80);
    }
  }

  .phone-cluster {
    position: relative;
    width: 100%;
    height: 600px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .phone-mockup {
    position: absolute;
    width: 280px;
    border-radius: 32px;
    box-shadow: 0 40px 80px rgba(0,0,0,0.5);
    border: 6px solid #1a1a1a;
  }

  .chat-view {
    transform: rotate(-8deg) translateX(-80px) translateY(-20px);
    z-index: 1;
  }

  .ar-view {
    transform: rotate(8deg) translateX(80px) translateY(20px);
    z-index: 2;
  }

  .quote-text {
    font-family: 'Instrument Sans', sans-serif;
    font-style: italic;
    font-size: 2rem;
    line-height: 1.2;
    color: var(--colors-teal-95);
    border-left: 2px solid var(--colors-teal-95);
    padding-left: 2rem;
    margin: 0;
  }

  /* Testimonials */
  .full-width {
    grid-column: 1 / -1;
    padding: 6rem 2rem;
  }

  .center-text {
    text-align: center;
  }

  .testimonials-flow {
    max-width: 1000px;
    margin: 4rem auto 0;
    display: flex;
    flex-direction: column;
    gap: 4rem;
  }

  .testimonial-large {
    text-align: center;
    
    p {
      font-family: 'Instrument Sans', sans-serif;
      font-style: italic;
      font-size: 3rem;
      line-height: 1.1;
      margin-bottom: 1.5rem;
      color: var(--colors-ink-100);
    }

    cite {
      font-family: var(--font-mono);
      font-size: 1rem;
      color: var(--colors-teal-95);
      font-style: normal;
      letter-spacing: 0.1em;
      text-transform: uppercase;
    }
  }

  .testimonial-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 4rem;
  }

  .testimonial-small {
    p {
      font-size: 1.5rem;
      line-height: 1.4;
      margin-bottom: 1rem;
      color: rgba(255, 255, 255, 0.9);
    }

    cite {
      font-family: var(--font-mono);
      font-size: 0.9rem;
      color: var(--colors-teal-95);
      font-style: normal;
      opacity: 0.8;
    }
  }

  .desktop-only {
    display: none;
  }

  @media (min-width: 768px) {
    .desktop-only {
      display: flex;
    }
  }

  @media (max-width: 767px) {
    .hero-bg-image {
      object-fit: cover;
      object-position: center top;
    }

    .mobile-order-1 { order: 1; }
    .mobile-order-2 { order: 2; }

    .content-cell {
      padding: 1.5rem;
    }

    .visual-cell {
      padding: 1.5rem;
    }

    .full-width {
      padding: 3rem 1.5rem;
    }

    .phone-cluster {
      position: relative;
      height: auto;
      min-height: 360px;
    }

    .phone-mockup {
      width: 200px;
    }

    .chat-view {
      transform: rotate(-6deg) translateX(-50px) translateY(-10px);
    }

    .ar-view {
      transform: rotate(6deg) translateX(50px) translateY(10px);
    }

    .quote-text {
      font-size: 1.25rem;
      padding-left: 1.25rem;
    }

    .testimonials-flow {
      gap: 2rem;
      margin-top: 2rem;
    }

    .testimonial-row {
      grid-template-columns: 1fr;
      gap: 2rem;
    }
    
    .testimonial-large p {
      font-size: 2rem;
    }
  }

  @media (max-width: 420px) {
    .hero-content {
      padding: 1.5rem 1.25rem 2.5rem 1.25rem;
      gap: 1.5rem;
    }

    .hero-subhead {
      font-size: 1rem;
    }

    .hero-actions {
      gap: 0.75rem;
    }

    .content-cell,
    .visual-cell {
      padding: 1.25rem;
    }
  }
</style>
